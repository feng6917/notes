//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

// Package fdf provides support for loading form field data from Form Field Data (FDF) files.
package fdf ;import (_cd "bufio";_b "bytes";_f "encoding/hex";_d "errors";_da "fmt";_dcg "lgo/test/unipdf/common";_fe "lgo/test/unipdf/core";_fb "io";_a "os";_g "regexp";_dg "sort";_c "strconv";_dc "strings";);func (_fad *fdfParser )readTextLine ()(string ,error ){var _bcb _b .Buffer ;
for {_ad ,_bcc :=_fad ._abda .Peek (1);if _bcc !=nil {_dcg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_bcc .Error ());return _bcb .String (),_bcc ;};if (_ad [0]!='\r')&&(_ad [0]!='\n'){_cec ,_ :=_fad ._abda .ReadByte ();_bcb .WriteByte (_cec );
}else {break ;};};return _bcb .String (),nil ;};func (_beb *fdfParser )parseArray ()(*_fe .PdfObjectArray ,error ){_fadg :=_fe .MakeArray ();_beb ._abda .ReadByte ();for {_beb .skipSpaces ();_eag ,_eab :=_beb ._abda .Peek (1);if _eab !=nil {return _fadg ,_eab ;
};if _eag [0]==']'{_beb ._abda .ReadByte ();break ;};_dgbc ,_eab :=_beb .parseObject ();if _eab !=nil {return _fadg ,_eab ;};_fadg .Append (_dgbc );};return _fadg ,nil ;};var _abd =_g .MustCompile ("\u0028\u005c\u0064\u002b)\\\u0073\u002b\u0028\u005c\u0064\u002b\u0029\u005c\u0073\u002b\u006f\u0062\u006a");
func (_bf *fdfParser )readAtLeast (_cdb []byte ,_fa int )(int ,error ){_efa :=_fa ;_cb :=0;_ea :=0;for _efa > 0{_bcd ,_dgb :=_bf ._abda .Read (_cdb [_cb :]);if _dgb !=nil {_dcg .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0046\u0061i\u006c\u0065\u0064\u0020\u0072\u0065\u0061d\u0069\u006e\u0067\u0020\u0028\u0025\u0064\u003b\u0025\u0064\u0029\u0020\u0025\u0073",_bcd ,_ea ,_dgb .Error ());
return _cb ,_d .New ("\u0066\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065a\u0064\u0069\u006e\u0067");};_ea ++;_cb +=_bcd ;_efa -=_bcd ;};return _cb ,nil ;};type fdfParser struct{_ce int ;_afd int ;_de map[int64 ]_fe .PdfObject ;_fgd _fb .ReadSeeker ;
_abda *_cd .Reader ;_db int64 ;_fcfg *_fe .PdfObjectDictionary ;};

// Data represents forms data format (FDF) file data.
type Data struct{_bc *_fe .PdfObjectDictionary ;_eg *_fe .PdfObjectArray ;};

// Root returns the Root of the FDF document.
func (_bbd *fdfParser )Root ()(*_fe .PdfObjectDictionary ,error ){if _bbd ._fcfg !=nil {if _dae ,_gga :=_bbd .trace (_bbd ._fcfg .Get ("\u0052\u006f\u006f\u0074")).(*_fe .PdfObjectDictionary );_gga {if _deb ,_cbc :=_bbd .trace (_dae .Get ("\u0046\u0044\u0046")).(*_fe .PdfObjectDictionary );
_cbc {return _deb ,nil ;};};};var _abdag []int64 ;for _fadc :=range _bbd ._de {_abdag =append (_abdag ,_fadc );};_dg .Slice (_abdag ,func (_acf ,_cea int )bool {return _abdag [_acf ]< _abdag [_cea ]});for _ ,_cefb :=range _abdag {_bee :=_bbd ._de [_cefb ];
if _fadf ,_dda :=_bbd .trace (_bee ).(*_fe .PdfObjectDictionary );_dda {if _gce ,_bdf :=_bbd .trace (_fadf .Get ("\u0046\u0044\u0046")).(*_fe .PdfObjectDictionary );_bdf {return _gce ,nil ;};};};return nil ,_d .New ("\u0046\u0044\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");
};func (_ccc *fdfParser )parseHexString ()(*_fe .PdfObjectString ,error ){_ccc ._abda .ReadByte ();var _fgb _b .Buffer ;for {_bcde ,_ge :=_ccc ._abda .Peek (1);if _ge !=nil {return _fe .MakeHexString (""),_ge ;};if _bcde [0]=='>'{_ccc ._abda .ReadByte ();
break ;};_ddg ,_ :=_ccc ._abda .ReadByte ();if !_fe .IsWhiteSpace (_ddg ){_fgb .WriteByte (_ddg );};};if _fgb .Len ()%2==1{_fgb .WriteRune ('0');};_aad ,_fdfb :=_f .DecodeString (_fgb .String ());if _fdfb !=nil {_dcg .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020\u0050\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0068\u0065\u0078\u0020\u0073\u0074r\u0069\u006e\u0067\u003a\u0020\u0027\u0025\u0073\u0027 \u002d\u0020\u0072\u0065\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u0061n\u0020\u0065\u006d\u0070\u0074\u0079 \u0073\u0074\u0072i\u006e\u0067",_fgb .String ());
return _fe .MakeHexString (""),nil ;};return _fe .MakeHexString (string (_aad )),nil ;};func _gda (_eec string )(_fe .PdfObjectReference ,error ){_ggb :=_fe .PdfObjectReference {};_cbb :=_gf .FindStringSubmatch (_eec );if len (_cbb )< 3{_dcg .Log .Debug ("\u0045\u0072\u0072or\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0072\u0065\u0066\u0065\u0072\u0065\u006e\u0063\u0065");
return _ggb ,_d .New ("\u0075n\u0061\u0062\u006c\u0065 \u0074\u006f\u0020\u0070\u0061r\u0073e\u0020r\u0065\u0066\u0065\u0072\u0065\u006e\u0063e");};_gfd ,_gfg :=_c .Atoi (_cbb [1]);if _gfg !=nil {_dcg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0070a\u0072\u0073\u0069n\u0067\u0020\u006fb\u006a\u0065c\u0074\u0020\u006e\u0075\u006d\u0062e\u0072 '\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006e\u0075\u006d\u0020\u003d\u0020\u0030",_cbb [1]);
return _ggb ,nil ;};_ggb .ObjectNumber =int64 (_gfd );_adg ,_gfg :=_c .Atoi (_cbb [2]);if _gfg !=nil {_dcg .Log .Debug ("\u0045\u0072r\u006f\u0072\u0020\u0070\u0061r\u0073\u0069\u006e\u0067\u0020g\u0065\u006e\u0065\u0072\u0061\u0074\u0069\u006f\u006e\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020\u0027\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u0067\u0065\u006e\u0020\u003d\u0020\u0030",_cbb [2]);
return _ggb ,nil ;};_ggb .GenerationNumber =int64 (_adg );return _ggb ,nil ;};func (_ada *fdfParser )parseObject ()(_fe .PdfObject ,error ){_dcg .Log .Trace ("\u0052e\u0061d\u0020\u0064\u0069\u0072\u0065c\u0074\u0020o\u0062\u006a\u0065\u0063\u0074");_ada .skipSpaces ();
for {_eceb ,_fbe :=_ada ._abda .Peek (2);if _fbe !=nil {return nil ,_fbe ;};_dcg .Log .Trace ("\u0050e\u0065k\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u003a\u0020\u0025\u0073",string (_eceb ));if _eceb [0]=='/'{_cg ,_cecb :=_ada .parseName ();_dcg .Log .Trace ("\u002d\u003e\u004ea\u006d\u0065\u003a\u0020\u0027\u0025\u0073\u0027",_cg );
return &_cg ,_cecb ;}else if _eceb [0]=='('{_dcg .Log .Trace ("\u002d>\u0053\u0074\u0072\u0069\u006e\u0067!");return _ada .parseString ();}else if _eceb [0]=='['{_dcg .Log .Trace ("\u002d\u003e\u0041\u0072\u0072\u0061\u0079\u0021");return _ada .parseArray ();
}else if (_eceb [0]=='<')&&(_eceb [1]=='<'){_dcg .Log .Trace ("\u002d>\u0044\u0069\u0063\u0074\u0021");return _ada .parseDict ();}else if _eceb [0]=='<'{_dcg .Log .Trace ("\u002d\u003e\u0048\u0065\u0078\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0021");
return _ada .parseHexString ();}else if _eceb [0]=='%'{_ada .readComment ();_ada .skipSpaces ();}else {_dcg .Log .Trace ("\u002d\u003eN\u0075\u006d\u0062e\u0072\u0020\u006f\u0072\u0020\u0072\u0065\u0066\u003f");_eceb ,_ =_ada ._abda .Peek (15);_cgg :=string (_eceb );
_dcg .Log .Trace ("\u0050\u0065\u0065k\u0020\u0073\u0074\u0072\u003a\u0020\u0025\u0073",_cgg );if (len (_cgg )> 3)&&(_cgg [:4]=="\u006e\u0075\u006c\u006c"){_ae ,_fcdf :=_ada .parseNull ();return &_ae ,_fcdf ;}else if (len (_cgg )> 4)&&(_cgg [:5]=="\u0066\u0061\u006cs\u0065"){_bff ,_bec :=_ada .parseBool ();
return &_bff ,_bec ;}else if (len (_cgg )> 3)&&(_cgg [:4]=="\u0074\u0072\u0075\u0065"){_egd ,_fdd :=_ada .parseBool ();return &_egd ,_fdd ;};_dgae :=_gf .FindStringSubmatch (_cgg );if len (_dgae )> 1{_eceb ,_ =_ada ._abda .ReadBytes ('R');_dcg .Log .Trace ("\u002d\u003e\u0020\u0021\u0052\u0065\u0066\u003a\u0020\u0027\u0025\u0073\u0027",string (_eceb [:]));
_ffg ,_gbba :=_gda (string (_eceb ));return &_ffg ,_gbba ;};_fda :=_agc .FindStringSubmatch (_cgg );if len (_fda )> 1{_dcg .Log .Trace ("\u002d\u003e\u0020\u004e\u0075\u006d\u0062\u0065\u0072\u0021");return _ada .parseNumber ();};_fda =_ab .FindStringSubmatch (_cgg );
if len (_fda )> 1{_dcg .Log .Trace ("\u002d\u003e\u0020\u0045xp\u006f\u006e\u0065\u006e\u0074\u0069\u0061\u006c\u0020\u004e\u0075\u006d\u0062\u0065r\u0021");_dcg .Log .Trace ("\u0025\u0020\u0073",_fda );return _ada .parseNumber ();};_dcg .Log .Debug ("\u0045R\u0052\u004f\u0052\u0020U\u006e\u006b\u006e\u006f\u0077n\u0020(\u0070e\u0065\u006b\u0020\u0022\u0025\u0073\u0022)",_cgg );
return nil ,_d .New ("\u006f\u0062\u006a\u0065\u0063t\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0065\u0072\u0072\u006fr\u0020\u002d\u0020\u0075\u006e\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0070\u0061\u0074\u0074\u0065\u0072\u006e");
};};};var _ab =_g .MustCompile ("\u005e\u005b\u005c+-\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e]\u002b)\u0065[\u005c+\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e\u005d\u002b\u0029");func (_dbf *fdfParser )parseIndirectObject ()(_fe .PdfObject ,error ){_gfab :=_fe .PdfIndirectObject {};
_dcg .Log .Trace ("\u002dR\u0065a\u0064\u0020\u0069\u006e\u0064i\u0072\u0065c\u0074\u0020\u006f\u0062\u006a");_dfc ,_deaf :=_dbf ._abda .Peek (20);if _deaf !=nil {_dcg .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");
return &_gfab ,_deaf ;};_dcg .Log .Trace ("\u0028\u0069\u006edi\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0020\u0070\u0065\u0065\u006b\u0020\u0022\u0025\u0073\u0022",string (_dfc ));_aaba :=_abd .FindStringSubmatchIndex (string (_dfc ));if len (_aaba )< 6{_dcg .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_dfc ));
return &_gfab ,_d .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_dbf ._abda .Discard (_aaba [0]);_dcg .Log .Trace ("O\u0066\u0066\u0073\u0065\u0074\u0073\u0020\u0025\u0020\u0064",_aaba );_ffe :=_aaba [1]-_aaba [0];_eecb :=make ([]byte ,_ffe );_ ,_deaf =_dbf .readAtLeast (_eecb ,_ffe );if _deaf !=nil {_dcg .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0075\u006e\u0061\u0062l\u0065\u0020\u0074\u006f\u0020\u0072\u0065\u0061\u0064\u0020-\u0020\u0025\u0073",_deaf );
return nil ,_deaf ;};_dcg .Log .Trace ("\u0074\u0065\u0078t\u006c\u0069\u006e\u0065\u003a\u0020\u0025\u0073",_eecb );_gc :=_abd .FindStringSubmatch (string (_eecb ));if len (_gc )< 3{_dcg .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_eecb ));
return &_gfab ,_d .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_abg ,_ :=_c .Atoi (_gc [1]);_gff ,_ :=_c .Atoi (_gc [2]);_gfab .ObjectNumber =int64 (_abg );_gfab .GenerationNumber =int64 (_gff );for {_fbaf ,_gee :=_dbf ._abda .Peek (2);if _gee !=nil {return &_gfab ,_gee ;};_dcg .Log .Trace ("I\u006ed\u002e\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_fbaf ),string (_fbaf ));
if _fe .IsWhiteSpace (_fbaf [0]){_dbf .skipSpaces ();}else if _fbaf [0]=='%'{_dbf .skipComments ();}else if (_fbaf [0]=='<')&&(_fbaf [1]=='<'){_dcg .Log .Trace ("\u0043\u0061\u006c\u006c\u0020\u0050\u0061\u0072\u0073e\u0044\u0069\u0063\u0074");_gfab .PdfObject ,_gee =_dbf .parseDict ();
_dcg .Log .Trace ("\u0045\u004f\u0046\u0020Ca\u006c\u006c\u0020\u0050\u0061\u0072\u0073\u0065\u0044\u0069\u0063\u0074\u003a\u0020%\u0076",_gee );if _gee !=nil {return &_gfab ,_gee ;};_dcg .Log .Trace ("\u0050\u0061\u0072\u0073\u0065\u0064\u0020\u0064\u0069\u0063t\u0069\u006f\u006e\u0061\u0072\u0079\u002e.\u002e\u0020\u0066\u0069\u006e\u0069\u0073\u0068\u0065\u0064\u002e");
}else if (_fbaf [0]=='/')||(_fbaf [0]=='(')||(_fbaf [0]=='[')||(_fbaf [0]=='<'){_gfab .PdfObject ,_gee =_dbf .parseObject ();if _gee !=nil {return &_gfab ,_gee ;};_dcg .Log .Trace ("P\u0061\u0072\u0073\u0065\u0064\u0020o\u0062\u006a\u0065\u0063\u0074\u0020\u002e\u002e\u002e \u0066\u0069\u006ei\u0073h\u0065\u0064\u002e");
}else {if _fbaf [0]=='e'{_cfb ,_gaf :=_dbf .readTextLine ();if _gaf !=nil {return nil ,_gaf ;};if len (_cfb )>=6&&_cfb [0:6]=="\u0065\u006e\u0064\u006f\u0062\u006a"{break ;};}else if _fbaf [0]=='s'{_fbaf ,_ =_dbf ._abda .Peek (10);if string (_fbaf [:6])=="\u0073\u0074\u0072\u0065\u0061\u006d"{_gec :=6;
if len (_fbaf )> 6{if _fe .IsWhiteSpace (_fbaf [_gec ])&&_fbaf [_gec ]!='\r'&&_fbaf [_gec ]!='\n'{_dcg .Log .Debug ("\u004e\u006fn\u002d\u0063\u006f\u006e\u0066\u006f\u0072\u006d\u0061\u006e\u0074\u0020\u0046\u0044\u0046\u0020\u006e\u006f\u0074 \u0065\u006e\u0064\u0069\u006e\u0067 \u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006c\u0069\u006e\u0065\u0020\u0070\u0072o\u0070\u0065r\u006c\u0079\u0020\u0077i\u0074\u0068\u0020\u0045\u004fL\u0020\u006d\u0061\u0072\u006b\u0065\u0072");
_gec ++;};if _fbaf [_gec ]=='\r'{_gec ++;if _fbaf [_gec ]=='\n'{_gec ++;};}else if _fbaf [_gec ]=='\n'{_gec ++;};};_dbf ._abda .Discard (_gec );_dgeg ,_aaa :=_gfab .PdfObject .(*_fe .PdfObjectDictionary );if !_aaa {return nil ,_d .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006di\u0073s\u0069\u006e\u0067\u0020\u0064\u0069\u0063\u0074\u0069\u006f\u006e\u0061\u0072\u0079");
};_dcg .Log .Trace ("\u0053\u0074\u0072\u0065\u0061\u006d\u0020\u0064\u0069c\u0074\u0020\u0025\u0073",_dgeg );_fbf ,_gcb :=_dgeg .Get ("\u004c\u0065\u006e\u0067\u0074\u0068").(*_fe .PdfObjectInteger );if !_gcb {return nil ,_d .New ("\u0073\u0074re\u0061\u006d\u0020l\u0065\u006e\u0067\u0074h n\u0065ed\u0073\u0020\u0074\u006f\u0020\u0062\u0065 a\u006e\u0020\u0069\u006e\u0074\u0065\u0067e\u0072");
};_fdb :=*_fbf ;if _fdb < 0{return nil ,_d .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006e\u0065\u0065\u0064\u0073\u0020\u0074\u006f \u0062e\u0020\u006c\u006f\u006e\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0030");};if int64 (_fdb )> _dbf ._db {_dcg .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a\u0020\u0053t\u0072\u0065\u0061\u006d\u0020l\u0065\u006e\u0067\u0074\u0068\u0020\u0063\u0061\u006e\u006e\u006f\u0074\u0020\u0062\u0065\u0020\u006c\u0061\u0072\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0066\u0069\u006c\u0065\u0020\u0073\u0069\u007a\u0065");
return nil ,_d .New ("\u0069n\u0076\u0061l\u0069\u0064\u0020\u0073t\u0072\u0065\u0061m\u0020\u006c\u0065\u006e\u0067\u0074\u0068\u002c\u0020la\u0072\u0067\u0065r\u0020\u0074h\u0061\u006e\u0020\u0066\u0069\u006ce\u0020\u0073i\u007a\u0065");};_fde :=make ([]byte ,_fdb );
_ ,_gee =_dbf .readAtLeast (_fde ,int (_fdb ));if _gee !=nil {_dcg .Log .Debug ("E\u0052\u0052\u004f\u0052 s\u0074r\u0065\u0061\u006d\u0020\u0028%\u0064\u0029\u003a\u0020\u0025\u0058",len (_fde ),_fde );_dcg .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_gee );
return nil ,_gee ;};_aag :=_fe .PdfObjectStream {};_aag .Stream =_fde ;_aag .PdfObjectDictionary =_gfab .PdfObject .(*_fe .PdfObjectDictionary );_aag .ObjectNumber =_gfab .ObjectNumber ;_aag .GenerationNumber =_gfab .GenerationNumber ;_dbf .skipSpaces ();
_dbf ._abda .Discard (9);_dbf .skipSpaces ();return &_aag ,nil ;};};_gfab .PdfObject ,_gee =_dbf .parseObject ();return &_gfab ,_gee ;};};_dcg .Log .Trace ("\u0052\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0021");
return &_gfab ,nil ;};var _bfb =_g .MustCompile ("\u0025\u0025\u0045O\u0046");

// FieldValues implements interface model.FieldValueProvider.
// Returns a map of field names to values (PdfObjects).
func (fdf *Data )FieldValues ()(map[string ]_fe .PdfObject ,error ){_age ,_ca :=fdf .FieldDictionaries ();if _ca !=nil {return nil ,_ca ;};var _bgg []string ;for _bgd :=range _age {_bgg =append (_bgg ,_bgd );};_dg .Strings (_bgg );_ef :=map[string ]_fe .PdfObject {};
for _ ,_fcf :=range _bgg {_dcd :=_age [_fcf ];_ga :=_fe .TraceToDirectObject (_dcd .Get ("\u0056"));_ef [_fcf ]=_ga ;};return _ef ,nil ;};func _bebe (_ggbd string )(*fdfParser ,error ){_baf :=fdfParser {};_ebb :=[]byte (_ggbd );_cca :=_b .NewReader (_ebb );
_baf ._fgd =_cca ;_baf ._de =map[int64 ]_fe .PdfObject {};_bbeb :=_cd .NewReader (_cca );_baf ._abda =_bbeb ;_baf ._db =int64 (len (_ggbd ));return &_baf ,_baf .parse ();};func (_fcd *fdfParser )parseName ()(_fe .PdfObjectName ,error ){var _ecec _b .Buffer ;
_dd :=false ;for {_df ,_bcge :=_fcd ._abda .Peek (1);if _bcge ==_fb .EOF {break ;};if _bcge !=nil {return _fe .PdfObjectName (_ecec .String ()),_bcge ;};if !_dd {if _df [0]=='/'{_dd =true ;_fcd ._abda .ReadByte ();}else if _df [0]=='%'{_fcd .readComment ();
_fcd .skipSpaces ();}else {_dcg .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020N\u0061\u006d\u0065\u0020\u0073\u0074\u0061\u0072\u0074\u0069\u006e\u0067\u0020w\u0069\u0074\u0068\u0020\u0025\u0073\u0020(\u0025\u0020\u0078\u0029",_df ,_df );return _fe .PdfObjectName (_ecec .String ()),_da .Errorf ("\u0069n\u0076a\u006c\u0069\u0064\u0020\u006ea\u006d\u0065:\u0020\u0028\u0025\u0063\u0029",_df [0]);
};}else {if _fe .IsWhiteSpace (_df [0]){break ;}else if (_df [0]=='/')||(_df [0]=='[')||(_df [0]=='(')||(_df [0]==']')||(_df [0]=='<')||(_df [0]=='>'){break ;}else if _df [0]=='#'{_fdf ,_gbbg :=_fcd ._abda .Peek (3);if _gbbg !=nil {return _fe .PdfObjectName (_ecec .String ()),_gbbg ;
};_fcd ._abda .Discard (3);_agb ,_gbbg :=_f .DecodeString (string (_fdf [1:3]));if _gbbg !=nil {return _fe .PdfObjectName (_ecec .String ()),_gbbg ;};_ecec .Write (_agb );}else {_ed ,_ :=_fcd ._abda .ReadByte ();_ecec .WriteByte (_ed );};};};return _fe .PdfObjectName (_ecec .String ()),nil ;
};func _aaga (_fab _fb .ReadSeeker )(*fdfParser ,error ){_gfe :=&fdfParser {};_gfe ._fgd =_fab ;_gfe ._de =map[int64 ]_fe .PdfObject {};_cefd ,_cdac ,_ccg :=_gfe .parseFdfVersion ();if _ccg !=nil {_dcg .Log .Error ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0076e\u0072\u0073\u0069o\u006e:\u0020\u0025\u0076",_ccg );
return nil ,_ccg ;};_gfe ._ce =_cefd ;_gfe ._afd =_cdac ;_ccg =_gfe .parse ();return _gfe ,_ccg ;};func (_bcg *fdfParser )readComment ()(string ,error ){var _efd _b .Buffer ;_ ,_dbb :=_bcg .skipSpaces ();if _dbb !=nil {return _efd .String (),_dbb ;};_fff :=true ;
for {_abb ,_aa :=_bcg ._abda .Peek (1);if _aa !=nil {_dcg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_aa .Error ());return _efd .String (),_aa ;};if _fff &&_abb [0]!='%'{return _efd .String (),_d .New ("c\u006f\u006d\u006d\u0065\u006e\u0074 \u0073\u0068\u006f\u0075\u006c\u0064\u0020\u0073\u0074a\u0072\u0074\u0020w\u0069t\u0068\u0020\u0025");
};_fff =false ;if (_abb [0]!='\r')&&(_abb [0]!='\n'){_ba ,_ :=_bcg ._abda .ReadByte ();_efd .WriteByte (_ba );}else {break ;};};return _efd .String (),nil ;};func (_cggc *fdfParser )seekToEOFMarker (_fdc int64 )error {_eae :=int64 (0);_bba :=int64 (1000);
for _eae < _fdc {if _fdc <=(_bba +_eae ){_bba =_fdc -_eae ;};_ ,_ege :=_cggc ._fgd .Seek (-_eae -_bba ,_fb .SeekEnd );if _ege !=nil {return _ege ;};_efe :=make ([]byte ,_bba );_cggc ._fgd .Read (_efe );_dcg .Log .Trace ("\u004c\u006f\u006f\u006bi\u006e\u0067\u0020\u0066\u006f\u0072\u0020\u0045\u004f\u0046 \u006da\u0072\u006b\u0065\u0072\u003a\u0020\u0022%\u0073\u0022",string (_efe ));
_cecf :=_bfb .FindAllStringIndex (string (_efe ),-1);if _cecf !=nil {_fdg :=_cecf [len (_cecf )-1];_dcg .Log .Trace ("\u0049\u006e\u0064\u003a\u0020\u0025\u0020\u0064",_cecf );_cggc ._fgd .Seek (-_eae -_bba +int64 (_fdg [0]),_fb .SeekEnd );return nil ;
};_dcg .Log .Debug ("\u0057\u0061\u0072\u006e\u0069\u006eg\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006b\u0065\u0072\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075n\u0064\u0021\u0020\u002d\u0020\u0063\u006f\u006e\u0074\u0069\u006e\u0075\u0065\u0020s\u0065e\u006b\u0069\u006e\u0067");
_eae +=_bba ;};_dcg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006be\u0072 \u0077\u0061\u0073\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064\u002e");return _d .New ("\u0045\u004f\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");
};

// LoadFromPath loads FDF form data from file path `fdfPath`.
func LoadFromPath (fdfPath string )(*Data ,error ){_gd ,_feg :=_a .Open (fdfPath );if _feg !=nil {return nil ,_feg ;};defer _gd .Close ();return Load (_gd );};

// FieldDictionaries returns a map of field names to field dictionaries.
func (fdf *Data )FieldDictionaries ()(map[string ]*_fe .PdfObjectDictionary ,error ){_eca :=map[string ]*_fe .PdfObjectDictionary {};for _af :=0;_af < fdf ._eg .Len ();_af ++{_cc ,_ag :=_fe .GetDict (fdf ._eg .Get (_af ));if _ag {_fed ,_ :=_fe .GetString (_cc .Get ("\u0054"));
if _fed !=nil {_eca [_fed .Str ()]=_cc ;};};};return _eca ,nil ;};func (_gg *fdfParser )skipComments ()error {if _ ,_bca :=_gg .skipSpaces ();_bca !=nil {return _bca ;};_gfb :=true ;for {_aba ,_daff :=_gg ._abda .Peek (1);if _daff !=nil {_dcg .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_daff .Error ());
return _daff ;};if _gfb &&_aba [0]!='%'{return nil ;};_gfb =false ;if (_aba [0]!='\r')&&(_aba [0]!='\n'){_gg ._abda .ReadByte ();}else {break ;};};return _gg .skipComments ();};func (_dgf *fdfParser )getFileOffset ()int64 {_dgc ,_ :=_dgf ._fgd .Seek (0,_fb .SeekCurrent );
_dgc -=int64 (_dgf ._abda .Buffered ());return _dgc ;};func (_cad *fdfParser )parse ()error {_cad ._fgd .Seek (0,_fb .SeekStart );_cad ._abda =_cd .NewReader (_cad ._fgd );for {_cad .skipComments ();_cdbd ,_beba :=_cad ._abda .Peek (20);if _beba !=nil {_dcg .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");
return _beba ;};if _dc .HasPrefix (string (_cdbd ),"\u0074r\u0061\u0069\u006c\u0065\u0072"){_cad ._abda .Discard (7);_cad .skipSpaces ();_cad .skipComments ();_afcg ,_ :=_cad .parseDict ();_cad ._fcfg =_afcg ;break ;};_fedc :=_abd .FindStringSubmatchIndex (string (_cdbd ));
if len (_fedc )< 6{_dcg .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_cdbd ));
return _d .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_abf ,_beba :=_cad .parseIndirectObject ();if _beba !=nil {return _beba ;};switch _cbe :=_abf .(type ){case *_fe .PdfIndirectObject :_cad ._de [_cbe .ObjectNumber ]=_cbe ;case *_fe .PdfObjectStream :_cad ._de [_cbe .ObjectNumber ]=_cbe ;default:return _d .New ("\u0074\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");
};};return nil ;};func (_edc *fdfParser )parseNull ()(_fe .PdfObjectNull ,error ){_ ,_fge :=_edc ._abda .Discard (4);return _fe .PdfObjectNull {},_fge ;};func (_dgfc *fdfParser )parseBool ()(_fe .PdfObjectBool ,error ){_bab ,_eagf :=_dgfc ._abda .Peek (4);
if _eagf !=nil {return _fe .PdfObjectBool (false ),_eagf ;};if (len (_bab )>=4)&&(string (_bab [:4])=="\u0074\u0072\u0075\u0065"){_dgfc ._abda .Discard (4);return _fe .PdfObjectBool (true ),nil ;};_bab ,_eagf =_dgfc ._abda .Peek (5);if _eagf !=nil {return _fe .PdfObjectBool (false ),_eagf ;
};if (len (_bab )>=5)&&(string (_bab [:5])=="\u0066\u0061\u006cs\u0065"){_dgfc ._abda .Discard (5);return _fe .PdfObjectBool (false ),nil ;};return _fe .PdfObjectBool (false ),_d .New ("\u0075n\u0065\u0078\u0070\u0065c\u0074\u0065\u0064\u0020\u0062o\u006fl\u0065a\u006e\u0020\u0073\u0074\u0072\u0069\u006eg");
};var _agc =_g .MustCompile ("\u005e\u005b\u005c\u002b\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d9\u002e\u005d\u002b\u0029");func (_dcda *fdfParser )parseString ()(*_fe .PdfObjectString ,error ){_dcda ._abda .ReadByte ();var _dgg _b .Buffer ;_be :=1;
for {_gfa ,_dgbd :=_dcda ._abda .Peek (1);if _dgbd !=nil {return _fe .MakeString (_dgg .String ()),_dgbd ;};if _gfa [0]=='\\'{_dcda ._abda .ReadByte ();_bb ,_fba :=_dcda ._abda .ReadByte ();if _fba !=nil {return _fe .MakeString (_dgg .String ()),_fba ;
};if _fe .IsOctalDigit (_bb ){_fbad ,_cf :=_dcda ._abda .Peek (2);if _cf !=nil {return _fe .MakeString (_dgg .String ()),_cf ;};var _baa []byte ;_baa =append (_baa ,_bb );for _ ,_ac :=range _fbad {if _fe .IsOctalDigit (_ac ){_baa =append (_baa ,_ac );}else {break ;
};};_dcda ._abda .Discard (len (_baa )-1);_dcg .Log .Trace ("\u004e\u0075\u006d\u0065ri\u0063\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0020\u0022\u0025\u0073\u0022",_baa );_aaf ,_cf :=_c .ParseUint (string (_baa ),8,32);if _cf !=nil {return _fe .MakeString (_dgg .String ()),_cf ;
};_dgg .WriteByte (byte (_aaf ));continue ;};switch _bb {case 'n':_dgg .WriteRune ('\n');case 'r':_dgg .WriteRune ('\r');case 't':_dgg .WriteRune ('\t');case 'b':_dgg .WriteRune ('\b');case 'f':_dgg .WriteRune ('\f');case '(':_dgg .WriteRune ('(');case ')':_dgg .WriteRune (')');
case '\\':_dgg .WriteRune ('\\');};continue ;}else if _gfa [0]=='('{_be ++;}else if _gfa [0]==')'{_be --;if _be ==0{_dcda ._abda .ReadByte ();break ;};};_aae ,_ :=_dcda ._abda .ReadByte ();_dgg .WriteByte (_aae );};return _fe .MakeString (_dgg .String ()),nil ;
};var _gf =_g .MustCompile ("^\u005c\u0073\u002a\u0028\\d\u002b)\u005c\u0073\u002b\u0028\u005cd\u002b\u0029\u005c\u0073\u002b\u0052");func (_fec *fdfParser )trace (_efea _fe .PdfObject )_fe .PdfObject {switch _cbf :=_efea .(type ){case *_fe .PdfObjectReference :_adb ,_bfc :=_fec ._de [_cbf .ObjectNumber ].(*_fe .PdfIndirectObject );
if _bfc {return _adb .PdfObject ;};_dcg .Log .Debug ("\u0054\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");return nil ;case *_fe .PdfIndirectObject :return _cbf .PdfObject ;};return _efea ;};func (_ecg *fdfParser )skipSpaces ()(int ,error ){_cda :=0;
for {_gbb ,_caf :=_ecg ._abda .ReadByte ();if _caf !=nil {return 0,_caf ;};if _fe .IsWhiteSpace (_gbb ){_cda ++;}else {_ecg ._abda .UnreadByte ();break ;};};return _cda ,nil ;};func (_fef *fdfParser )parseNumber ()(_fe .PdfObject ,error ){return _fe .ParseNumber (_fef ._abda )};
func (_gae *fdfParser )parseDict ()(*_fe .PdfObjectDictionary ,error ){_dcg .Log .Trace ("\u0052\u0065\u0061\u0064\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020D\u0069\u0063\u0074\u0021");_cac :=_fe .MakeDict ();_aab ,_ :=_gae ._abda .ReadByte ();if _aab !='<'{return nil ,_d .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");
};_aab ,_ =_gae ._abda .ReadByte ();if _aab !='<'{return nil ,_d .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");};for {_gae .skipSpaces ();_gae .skipComments ();_daa ,_dafb :=_gae ._abda .Peek (2);if _dafb !=nil {return nil ,_dafb ;
};_dcg .Log .Trace ("D\u0069c\u0074\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_daa ),string (_daa ));if (_daa [0]=='>')&&(_daa [1]=='>'){_dcg .Log .Trace ("\u0045\u004f\u0046\u0020\u0064\u0069\u0063\u0074\u0069o\u006e\u0061\u0072\u0079");
_gae ._abda .ReadByte ();_gae ._abda .ReadByte ();break ;};_dcg .Log .Trace ("\u0050a\u0072s\u0065\u0020\u0074\u0068\u0065\u0020\u006e\u0061\u006d\u0065\u0021");_bbg ,_dafb :=_gae .parseName ();_dcg .Log .Trace ("\u004be\u0079\u003a\u0020\u0025\u0073",_bbg );
if _dafb !=nil {_dcg .Log .Debug ("E\u0052\u0052\u004f\u0052\u0020\u0052e\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u006ea\u006d\u0065\u0020e\u0072r\u0020\u0025\u0073",_dafb );return nil ,_dafb ;};if len (_bbg )> 4&&_bbg [len (_bbg )-4:]=="\u006e\u0075\u006c\u006c"{_ggfg :=_bbg [0:len (_bbg )-4];
_dcg .Log .Debug ("\u0054\u0061\u006b\u0069n\u0067\u0020\u0063\u0061\u0072\u0065\u0020\u006f\u0066\u0020n\u0075l\u006c\u0020\u0062\u0075\u0067\u0020\u0028%\u0073\u0029",_bbg );_dcg .Log .Debug ("\u004e\u0065\u0077\u0020ke\u0079\u0020\u0022\u0025\u0073\u0022\u0020\u003d\u0020\u006e\u0075\u006c\u006c",_ggfg );
_gae .skipSpaces ();_aff ,_ :=_gae ._abda .Peek (1);if _aff [0]=='/'{_cac .Set (_ggfg ,_fe .MakeNull ());continue ;};};_gae .skipSpaces ();_fdfa ,_dafb :=_gae .parseObject ();if _dafb !=nil {return nil ,_dafb ;};_cac .Set (_bbg ,_fdfa );_dcg .Log .Trace ("\u0064\u0069\u0063\u0074\u005b\u0025\u0073\u005d\u0020\u003d\u0020\u0025\u0073",_bbg ,_fdfa .String ());
};_dcg .Log .Trace ("\u0072\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020\u0044\u0069\u0063\u0074\u0021");return _cac ,nil ;};

// Load loads FDF form data from `r`.
func Load (r _fb .ReadSeeker )(*Data ,error ){_ee ,_dge :=_aaga (r );if _dge !=nil {return nil ,_dge ;};_daf ,_dge :=_ee .Root ();if _dge !=nil {return nil ,_dge ;};_ec ,_bg :=_fe .GetArray (_daf .Get ("\u0046\u0069\u0065\u006c\u0064\u0073"));if !_bg {return nil ,_d .New ("\u0066\u0069\u0065\u006c\u0064\u0073\u0020\u006d\u0069s\u0073\u0069\u006e\u0067");
};return &Data {_eg :_ec ,_bc :_daf },nil ;};func (_aged *fdfParser )parseFdfVersion ()(int ,int ,error ){_aged ._fgd .Seek (0,_fb .SeekStart );_bbe :=20;_gge :=make ([]byte ,_bbe );_aged ._fgd .Read (_gge );_dbc :=_afa .FindStringSubmatch (string (_gge ));
if len (_dbc )< 3{_geg ,_ggbg ,_dcb :=_aged .seekFdfVersionTopDown ();if _dcb !=nil {_dcg .Log .Debug ("F\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065\u0063\u006f\u0076\u0065\u0072\u0079\u0020\u002d\u0020\u0075n\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0066\u0069nd\u0020\u0076\u0065r\u0073i\u006f\u006e");
return 0,0,_dcb ;};return _geg ,_ggbg ,nil ;};_cgb ,_def :=_c .Atoi (_dbc [1]);if _def !=nil {return 0,0,_def ;};_ggg ,_def :=_c .Atoi (_dbc [2]);if _def !=nil {return 0,0,_def ;};_dcg .Log .Debug ("\u0046\u0064\u0066\u0020\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020%\u0064\u002e\u0025\u0064",_cgb ,_ggg );
return _cgb ,_ggg ,nil ;};func (_fg *fdfParser )setFileOffset (_ece int64 ){_fg ._fgd .Seek (_ece ,_fb .SeekStart );_fg ._abda =_cd .NewReader (_fg ._fgd );};func (_gdd *fdfParser )seekFdfVersionTopDown ()(int ,int ,error ){_gdd ._fgd .Seek (0,_fb .SeekStart );
_gdd ._abda =_cd .NewReader (_gdd ._fgd );_gad :=20;_abe :=make ([]byte ,_gad );for {_afg ,_dgba :=_gdd ._abda .ReadByte ();if _dgba !=nil {if _dgba ==_fb .EOF {break ;}else {return 0,0,_dgba ;};};if _fe .IsDecimalDigit (_afg )&&_abe [_gad -1]=='.'&&_fe .IsDecimalDigit (_abe [_gad -2])&&_abe [_gad -3]=='-'&&_abe [_gad -4]=='F'&&_abe [_gad -5]=='D'&&_abe [_gad -6]=='P'{_bcfc :=int (_abe [_gad -2]-'0');
_dba :=int (_afg -'0');return _bcfc ,_dba ,nil ;};_abe =append (_abe [1:_gad ],_afg );};return 0,0,_d .New ("\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064");};var _afa =_g .MustCompile ("\u0025F\u0044F\u002d\u0028\u005c\u0064\u0029\u005c\u002e\u0028\u005c\u0064\u0029");
